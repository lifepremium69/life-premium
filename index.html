<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NC59DJ9CPD"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-NC59DJ9CPD');
    </script> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Premium™ – Instant Upgrade</title>
    <meta name="description" content="Pay once. Life upgraded. Instantly. No badge. No waiting. Just pure premium." />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    
    <script src="https://www.crossmint.com/sdk/embedded-collect.js"></script>

    <style>
        :root { --gold: #FFD400; }
        body { font-family: 'Inter', sans-serif; background: #000; color: #fff; overflow-x: hidden; margin: 0; }
        html { scroll-snap-type: y mandatory; scroll-behavior: smooth; }
        .snap { scroll-snap-align: start; }
        h1 { font-size: 4.5rem; line-height: 1; letter-spacing: -3px; font-weight: 800; }
        @media (min-width: 768px) { h1 { font-size: 6.5rem; } }
        .glow { text-shadow: 0 0 40px rgba(255,212,0,0.4); }
        .instant { animation: pulse 1.8s infinite; }
        @keyframes pulse { 0%,100% { opacity: 1; } 50% { opacity: 0.7; } }
    </style>
</head>
<body class="antialiased">

    <div id="paymentModal" class="fixed inset-0 z-50 hidden flex items-center justify-center bg-black/90 backdrop-blur-sm p-4">
        <div class="relative w-full max-w-md bg-[#16181c] border border-[#333] rounded-2xl overflow-hidden shadow-2xl p-6">
            <button onclick="closeModal()" class="absolute top-3 right-3 text-gray-400 hover:text-white z-20">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            
            <div class="mt-4">
                <crossmint-embedded-collect
                    id="crossmint-widget"
                    clientId="d9f777e8-1cdc-42f3-81e3-86249f7ac47b"
                    collectionId="2573e28c-fed8-4d13-a574-7920cfe9c43b"
                    environment="staging" 
                    price="0.42"
                    currency="SOL"
                    paymentMethods='["fiat","sol"]'
                    emailInput="true"
                    successRedirectUrl="https://lifepremium.you/thank-you"
                ></crossmint-embedded-collect>
            </div>
        </div>
    </div>

    <section class="h-screen snap flex flex-col items-center justify-center text-center px-6">
        <h1 class="glow">Still living<br><span class="text-gray-600">average?</span></h1>
        <p class="mt-8 text-xl text-gray-400">One payment ends that forever.</p>
    </section>

    <section class="h-screen snap flex flex-col items-center justify-center text-center px-6 bg-gradient-to-b from-black to-[#111]">
        <h1 class="glow">Upgrade your life<br><span class="text-[#FFD400]">to Premium.</span></h1>
        <p class="mt-8 text-2xl">No badge. No approval. No waiting.</p>
    </section>

    <section class="h-screen snap flex flex-col items-center justify-center text-center px-6 relative overflow-hidden">
        <div class="absolute inset-0 bg-gradient-to-t from-[#FFD400]/5 to-transparent"></div>
        <div class="relative z-10">
            <h1 class="glow mb-8">
                Life Premium™<br>
                <span class="text-6xl md:text-8xl text-[#FFD400] instant">$89</span><span class="text-3xl"> once</span>
            </h1>
            
            <div class="my-12 text-xl text-gray-300 max-w-2xl mx-auto">
                Pay once → Life upgraded forever.<br>
                <span class="text-[#FFD400] font-bold">Includes permanent, non-transferable on-chain certificate.</span><br>
                Valid forever. Secured on Solana. Cannot be sold or faked.
            </div>

            <button onclick="openModal()" 
                class="w-full max-w-md px-16 py-6 bg-[#FFD400] text-black text-2xl font-black rounded-full hover:scale-105 transform transition shadow-2xl shadow-[#FFD400]/30 cursor-pointer">
                UPGRADE MY LIFE NOW
            </button>

            <p class="mt-10 text-gray-500 text-sm">One payment. No renewal. Ever.</p>
        </div>
    </section>

    <footer class="py-20 text-center text-gray-600 text-sm snap">
        Life Premium™ is satirical entertainment. No actual life changes guaranteed.<br>
        But the certificate is now on-chain, non-transferable, and yours forever.<br>
        © 2025 Instant Life Corp. Still above the peasants™
    </footer>

    <script>
        lucide.createIcons();

        // --- MODAL & AFFILIATE LOGIC ---
        function openModal() {
            document.getElementById('paymentModal').classList.remove('hidden');
        }
        function closeModal() {
            document.getElementById('paymentModal').classList.add('hidden');
        }

        // Close on click outside
        window.onclick = function(event) {
            const modal = document.getElementById('paymentModal');
            if (event.target == modal) { closeModal(); }
        }

        // 1. Get Ref ID from URL
        const params = new URLSearchParams(window.location.search);
        const refId = params.get('ref_id');
        
        // 2. Build Success URL
        let successUrl = "https://lifepremium.you/thank-you"; // Removed .html if using clean URLs, add back if needed
        if (refId) {
            successUrl += `?ref_id=${refId}`;
        }

        // 3. Inject into Widget
        const widget = document.getElementById('crossmint-widget');
        if(widget) {
            widget.setAttribute('successRedirectUrl', successUrl);
        }
    </script>
</body>
</html>
